# D. Phase Plan（フェーズ計画＋進捗ログ）

## 1. フェーズ一覧

- Phase 0: 要件確定と設計準備
- Phase 1: データ層（保存/取得）
- Phase 2: MVP画面（入力 -> 保存 -> 一覧）
- Phase 3: 実用機能（検索/フィルタ/並び替え）
- Phase 4: 通知・外部連携（将来拡張）
- Phase 5: 品質（テスト/ログ/文書）

## 1.5 フェーズ別の参照ファイル

- Phase 1: `Phase1_データ層_保存取得.md`
- Phase 2: `Phase2_MVP画面_入力保存一覧.md`
- Phase 3: `Phase3_実用機能_検索フィルタ並び替え.md`
- Phase 4: `Phase4_通知と外部連携.md`
- Phase 5: `Phase5_品質保証と運用準備.md`

## 2. 各フェーズの目的・成果物・完了条件

### Phase 0：要件確定と設計準備

- 目的
  - A/B/C文書を確定し、実装の迷いをなくす
- 成果物
  - `A_Background_背景狙い.md`
  - `B_PRD_要件定義.md`
  - `C_Architecture_全体設計.md`
- 完了条件
  - スコープ、制約、受け入れ条件が合意済み

### Phase 1：データ層（保存と取得だけ先に作る）

- 目的
  - データが死なない土台を作る（UIは後で良い）
- やること
  - 保存先（Google Sheets）仕様確定
  - CRUD最小API/関数作成
  - データモデル（必須項目）確定
- まとめるもの
  - データモデル（必須項目、型、例）
  - 保存先仕様（どこに何を保存するか）
  - サンプルデータと期待結果
- 完了条件
  - 1件追加 -> 一覧取得 -> 更新、まで通る

### Phase 2：MVP画面（入力 -> 保存 -> 一覧）

- 目的
  - 最重要ユーザー導線を通す
- やること
  - 新規登録フォーム
  - 一覧画面
  - 編集画面（最低限）
  - バリデーション（必須項目）
- まとめるもの
  - 画面ごとの「入力 -> 処理 -> 出力」メモ
  - UI課題と改善TODO
- 完了条件
  - 登録 -> 一覧 -> 編集が破綻しない

### Phase 3：実用機能（並び替え/フィルタ/検索/重要度）

- 目的
  - MVPを「使える」水準へ引き上げる
- やること
  - フィルタ条件定義
  - 並び順ルール定義
  - ステータス/重要度対応
  - 期限ロジック（今日/明日など）
- まとめるもの
  - 決定事項（値域、優先順）
  - 例外ケース（期限なし等）
- 完了条件
  - 目的データへ迷わず到達できる

### Phase 4：通知・外部連携（LINE/Slack等）

- 目的
  - 壊れやすい外部I/Oを後半に隔離
- やること
  - webhook受け口
  - コマンド設計（今日/明日/一覧）
  - 通知テンプレート
  - リトライ/失敗ログ（最低限）
- まとめるもの
  - 連携構成図（簡易）
  - webhook設定手順
  - 送信失敗の観測方法
- 完了条件
  - 期待コマンドで期待返信
  - 失敗時に原因追跡可能
- 注記
  - 本フェーズはMVP外。実施判断はPhase 3完了後に行う

### Phase 5：品質（テスト・ログ・リファクタ・ドキュメント）

- 目的
  - 納品・運用できる状態に整える
- やること
  - 受け入れ条件チェック
  - エラーログ整備
  - README（起動/使い方/構成）
  - 重要処理の最低限テスト
- まとめるもの
  - できた証拠（チェック結果）
  - 既知の制限（残課題）
- 完了条件
  - 第三者が手順通りに再現実行できる

## 3. 実施ログ（運用テンプレート）

> 日付ごとに追記。判断理由が残るように短く書く。

### ログ記入フォーマット

- 日付:
- フェーズ:
- やったこと:
- 作った/更新したファイル:
- 決定事項:
- 残課題:
- 次アクション:

### 初回ログ

- 日付: 2026-02-26
- フェーズ: Phase 0
- やったこと: A/B/C/Dのプロジェクト文書を作成
- 作った/更新したファイル:
  - `A_Background_背景狙い.md`
  - `B_PRD_要件定義.md`
  - `C_Architecture_全体設計.md`
  - `D_PhasePlan_フェーズ計画進捗ログ.md`
  - `進捗管理表.md`
- 決定事項: MVPはGoogle Sheets連携まで、外部連携はPhase 4で検討
- 残課題: Phase 1のデータモデル詳細（型/必須/制約）を具体化する
- 次アクション: Phase 1着手（CRUD最小実装）

### 実装ログ（Phase 1 着手）

- 日付: 2026-02-26
- フェーズ: Phase 1
- やったこと: データモデル実装、CRUD最小実装、サンプルデータ定義、最小テスト作成
- 作った/更新したファイル:
  - `requirements.txt`
  - `README.md`
  - `src/models/product.py`
  - `src/services/sheets_product_repository.py`
  - `src/services/in_memory_product_repository.py`
  - `tests/conftest.py`
  - `tests/test_phase1_flow.py`
  - `Phase1_サンプルデータと期待結果.md`
  - `進捗管理表.md`
- 決定事項: 競合検知は`revision`比較で更新拒否する
- 残課題: Google Sheets実機接続テスト（認証情報が必要）
- 次アクション: Phase 2（MVP画面）に進む前に、Sheets接続情報を設定して疎通確認

### 文書整備ログ（Phase 1-5 テンプレート作成）

- 日付: 2026-02-26
- フェーズ: Phase 1-5（計画文書整備）
- やったこと: 各フェーズの実行用ドキュメント（目的/作業/成果物/完了条件/チェックリスト）を作成
- 作った/更新したファイル:
  - `Phase1_データ層_保存取得.md`
  - `Phase2_MVP画面_入力保存一覧.md`
  - `Phase3_実用機能_検索フィルタ並び替え.md`
  - `Phase4_通知と外部連携.md`
  - `Phase5_品質保証と運用準備.md`
  - `D_PhasePlan_フェーズ計画進捗ログ.md`
- 決定事項: フェーズ運用は「Dファイルで全体管理 + 各Phaseファイルで実行詳細管理」に分離
- 残課題: `進捗管理表.md` の未完了タスクとフェーズ文書のチェックリストを同期する
- 次アクション: Phase 1残タスク（Sheets実機接続テスト）を完了し、証跡を更新

